---
import MainLayout from '../layouts/MainLayout.astro';
import Navbar from '../components/Navbar.jsx';
import { SparklesCore } from '../components/ui/sparkles';
import Card from '../components/Card.jsx';
---

<MainLayout title="Contact Us - Beyond Temptation Café">
  <Navbar client:load />
  <main class="pt-20 bg-secondary min-h-screen">
    <div class="absolute inset-0 w-full h-full">
      <SparklesCore
        client:load
        id="contact-sparkles"
        background="transparent"
        minSize={0.6}
        maxSize={1.4}
        particleColor="#d4a574"
        particleDensity={50}
        speed={1}
        className="w-full h-full"
      />
    </div>

    <div class="relative z-10 max-w-7xl mx-auto px-4 py-16">
      <!-- Page Title -->
      <div class="text-center mb-16">
        <h1 class="text-5xl font-serif font-bold text-primary mb-4">Contact Us</h1>
        <div class="w-16 h-1 bg-gradient-to-r from-accent to-accent-dark mx-auto"></div>
      </div>

      <!-- Contact Info Cards (Animated React) -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
        <Card
          client:load
          title="WhatsApp"
          body="Quick messages & orders"
          href="https://wa.me/919876543210"
          img="/images/whatsapp-icon.png"
        />
        <Card
          client:load
          title="Email"
          body="General inquiries"
          href="mailto:hello@beyondtemptation.com"
          img="/images/email-icon.png"
        />
        <Card
          client:load
          title="Phone"
          body="Call us directly"
          href="tel:+919876543210"
          img="/images/phone-icon.png"
        />
      </div>

      <!-- Contact Form -->
      <div class="max-w-3xl mx-auto bg-white rounded-2xl p-8 shadow-lg">
        <h3 class="text-3xl font-serif font-bold text-primary text-center mb-8">Send us a Message</h3>
        
        <form class="space-y-6" id="contact-form">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="contact-name" class="block text-primary font-bold mb-2">Name</label>
              <input 
                type="text" 
                id="contact-name" 
                name="name" 
                required 
                class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-accent focus:outline-none transition-colors"
              />
            </div>
            
            <div>
              <label for="contact-email" class="block text-primary font-bold mb-2">Email</label>
              <input 
                type="email" 
                id="contact-email" 
                name="email" 
                required 
                class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-accent focus:outline-none transition-colors"
              />
            </div>
          </div>
          
          <div>
            <label for="subject" class="block text-primary font-bold mb-2">Subject</label>
            <input 
              type="text" 
              id="subject" 
              name="subject" 
              required 
              class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-accent focus:outline-none transition-colors"
            />
          </div>
          
          <div>
            <label for="message" class="block text-primary font-bold mb-2">Message</label>
            <textarea 
              id="message" 
              name="message" 
              rows="6" 
              required 
              class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-accent focus:outline-none transition-colors resize-none"
            ></textarea>
          </div>
          
          <button 
            type="submit" 
            class="w-full bg-accent hover:bg-accent-dark text-white py-4 rounded-lg font-bold text-lg transition-all duration-300 hover:scale-105 transform"
          >
            Send Message
          </button>
        </form>
      </div>

      <!-- Additional Contact Info -->
      <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="bg-white rounded-2xl p-8 shadow-lg">
          <h3 class="text-2xl font-serif font-bold text-primary mb-6">Business Hours</h3>
          <div class="space-y-3">
            <div class="flex justify-between items-center py-2 border-b border-gray-100">
              <span class="font-medium text-primary">Monday - Sunday</span>
              <span class="text-accent font-bold">8:00 AM - 11:00 PM</span>
            </div>
            <div class="flex justify-between items-center py-2">
              <span class="font-medium text-primary">Kitchen closes</span>
              <span class="text-text-light">10:30 PM</span>
            </div>
          </div>
          <div class="mt-4 p-4 bg-accent/10 rounded-lg">
            <p class="text-accent font-bold text-center">✨ Open till 11PM every day! ✨</p>
          </div>
        </div>
        
        <div class="bg-white rounded-2xl p-8 shadow-lg">
          <h3 class="text-2xl font-serif font-bold text-primary mb-6">Follow Us</h3>
          <div class="space-y-4">
            <a 
              href="#" 
              class="flex items-center gap-4 p-4 hover:bg-secondary/50 rounded-lg transition-colors group"
            >
              <div class="text-pink-500 text-2xl group-hover:scale-110 transition-transform">
                <i class="fab fa-instagram"></i>
              </div>
              <div>
                <p class="font-medium text-primary">Instagram</p>
                <p class="text-text-light">@beyondtemptation_cafe</p>
              </div>
            </a>
            
            <a 
              href="#" 
              class="flex items-center gap-4 p-4 hover:bg-secondary/50 rounded-lg transition-colors group"
            >
              <div class="text-blue-600 text-2xl group-hover:scale-110 transition-transform">
                <i class="fab fa-facebook"></i>
              </div>
              <div>
                <p class="font-medium text-primary">Facebook</p>
                <p class="text-text-light">Beyond Temptation Café</p>
              </div>
            </a>
            
            <a 
              href="#" 
              class="flex items-center gap-4 p-4 hover:bg-secondary/50 rounded-lg transition-colors group"
            >
              <div class="text-blue-400 text-2xl group-hover:scale-110 transition-transform">
                <i class="fab fa-twitter"></i>
              </div>
              <div>
                <p class="font-medium text-primary">Twitter</p>
                <p class="text-text-light">@beyondtemptation</p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>
</MainLayout>

<script>
  // Form submission handling
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contact-form') as HTMLFormElement | null;
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        const formEl = e.target as HTMLFormElement;
        const formData = new FormData(formEl);
        const data = Object.fromEntries(formData);
        // Create WhatsApp message as fallback
        const whatsappMessage = `Hi! I sent a message through your website.

Name: ${data.name}
Email: ${data.email}
Subject: ${data.subject}

Message: ${data.message}`;
        const whatsappUrl = `https://wa.me/919876543210?text=${encodeURIComponent(whatsappMessage)}`;
        // Show success message and redirect
        alert('Thank you for your message! Redirecting to WhatsApp...');
        window.open(whatsappUrl, '_blank');
        // Reset form
        formEl.reset();
      });
    }
  });

  // Add Font Awesome
  const link = document.createElement('link');
  link.rel = 'stylesheet';
  link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css';
  document.head.appendChild(link);
</script>